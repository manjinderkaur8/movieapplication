{"ast":null,"code":"import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Route,Routes}from\"react-router-dom\";import Admin from\"./components/Auth/Admin\";import Auth from\"./components/Auth/Auth\";import Booking from\"./components/Bookings/Booking\";import Header from\"./components/Header\";import HomePage from\"./components/HomePage\";import AddMovie from\"./components/Movies/AddMovie\";import Movies from\"./components/Movies/Movies\";import AdminProfile from\"./profile/AdminProfile\";import UserProfile from\"./profile/UserProfile\";import{adminActions,userActions}from\"./store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();var isAdminLoggedIn=useSelector(function(state){return state.admin.isLoggedIn;});var isUserLoggedIn=useSelector(function(state){return state.user.isLoggedIn;});console.log(\"isAdminLoggedIn\",isAdminLoggedIn);console.log(\"isUserLoggedIn\",isUserLoggedIn);useEffect(function(){if(localStorage.getItem(\"userId\")){dispatch(userActions.login());}else if(localStorage.getItem(\"adminId\")){dispatch(adminActions.login());}},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/movies\",element:/*#__PURE__*/_jsx(Movies,{})}),!isUserLoggedIn&&!isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(Auth,{})})]}),isUserLoggedIn&&!isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Route,{path:\"/user\",element:/*#__PURE__*/_jsx(UserProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/booking/:id\",element:/*#__PURE__*/_jsx(Booking,{})})]}),isAdminLoggedIn&&!isUserLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsx(Route,{path:\"/add\",element:/*#__PURE__*/_jsx(AddMovie,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user-admin\",element:/*#__PURE__*/_jsx(AdminProfile,{})}),\" \"]})]})})]});}export default App;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","Route","Routes","Admin","Auth","Booking","Header","HomePage","AddMovie","Movies","AdminProfile","UserProfile","adminActions","userActions","App","dispatch","isAdminLoggedIn","state","admin","isLoggedIn","isUserLoggedIn","user","console","log","localStorage","getItem","login"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/App.js"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Admin from \"./components/Auth/Admin\";\nimport Auth from \"./components/Auth/Auth\";\nimport Booking from \"./components/Bookings/Booking\";\nimport Header from \"./components/Header\";\nimport HomePage from \"./components/HomePage\";\nimport AddMovie from \"./components/Movies/AddMovie\";\nimport Movies from \"./components/Movies/Movies\";\nimport AdminProfile from \"./profile/AdminProfile\";\nimport UserProfile from \"./profile/UserProfile\";\nimport { adminActions, userActions } from \"./store\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const isAdminLoggedIn = useSelector((state) => state.admin.isLoggedIn);\n  const isUserLoggedIn = useSelector((state) => state.user.isLoggedIn);\n  console.log(\"isAdminLoggedIn\", isAdminLoggedIn);\n  console.log(\"isUserLoggedIn\", isUserLoggedIn);\n  useEffect(() => {\n    if (localStorage.getItem(\"userId\")) {\n      dispatch(userActions.login());\n    } else if (localStorage.getItem(\"adminId\")) {\n      dispatch(adminActions.login());\n    }\n  }, [dispatch]);\n  return (\n    <div>\n      <Header />\n      <section>\n        <Routes>\n          <Route path=\"/\" element={<HomePage />} />\n          <Route path=\"/movies\" element={<Movies />} />\n          {!isUserLoggedIn && !isAdminLoggedIn && (\n            <>\n              {\" \"}\n              <Route path=\"/admin\" element={<Admin />} />\n              <Route path=\"/auth\" element={<Auth />} />\n            </>\n          )}\n          {isUserLoggedIn && !isAdminLoggedIn && (\n            <>\n              {\" \"}\n              <Route path=\"/user\" element={<UserProfile />} />\n              <Route path=\"/booking/:id\" element={<Booking />} />\n            </>\n          )}\n          {isAdminLoggedIn && !isUserLoggedIn && (\n            <>\n              {\" \"}\n              <Route path=\"/add\" element={<AddMovie />} />\n              <Route path=\"/user-admin\" element={<AdminProfile />} />{\" \"}\n            </>\n          )}\n        </Routes>\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,MAAOC,MAAP,KAAkB,yBAAlB,CACA,MAAOC,KAAP,KAAiB,wBAAjB,CACA,MAAOC,QAAP,KAAoB,+BAApB,CACA,MAAOC,OAAP,KAAmB,qBAAnB,CACA,MAAOC,SAAP,KAAqB,uBAArB,CACA,MAAOC,SAAP,KAAqB,8BAArB,CACA,MAAOC,OAAP,KAAmB,4BAAnB,CACA,MAAOC,aAAP,KAAyB,wBAAzB,CACA,MAAOC,YAAP,KAAwB,uBAAxB,CACA,OAASC,YAAT,CAAuBC,WAAvB,KAA0C,SAA1C,C,6IAEA,QAASC,IAAT,EAAe,CACb,GAAMC,SAAQ,CAAGhB,WAAW,EAA5B,CACA,GAAMiB,gBAAe,CAAGhB,WAAW,CAAC,SAACiB,KAAD,QAAWA,MAAK,CAACC,KAAN,CAAYC,UAAvB,EAAD,CAAnC,CACA,GAAMC,eAAc,CAAGpB,WAAW,CAAC,SAACiB,KAAD,QAAWA,MAAK,CAACI,IAAN,CAAWF,UAAtB,EAAD,CAAlC,CACAG,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+BP,eAA/B,EACAM,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BH,cAA9B,EACAtB,SAAS,CAAC,UAAM,CACd,GAAI0B,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAJ,CAAoC,CAClCV,QAAQ,CAACF,WAAW,CAACa,KAAZ,EAAD,CAAR,CACD,CAFD,IAEO,IAAIF,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAJ,CAAqC,CAC1CV,QAAQ,CAACH,YAAY,CAACc,KAAb,EAAD,CAAR,CACD,CACF,CANQ,CAMN,CAACX,QAAD,CANM,CAAT,CAOA,mBACE,oCACE,KAAC,MAAD,IADF,cAEE,sCACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,QAAD,IAAzB,EADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,CAAsB,OAAO,cAAE,KAAC,MAAD,IAA/B,EAFF,CAGG,CAACK,cAAD,EAAmB,CAACJ,eAApB,eACC,2BACG,GADH,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,IAA9B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,IAAD,IAA7B,EAHF,GAJJ,CAUGI,cAAc,EAAI,CAACJ,eAAnB,eACC,2BACG,GADH,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,OAAO,cAAE,KAAC,WAAD,IAA7B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,cAAZ,CAA2B,OAAO,cAAE,KAAC,OAAD,IAApC,EAHF,GAXJ,CAiBGA,eAAe,EAAI,CAACI,cAApB,eACC,2BACG,GADH,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,OAAO,cAAE,KAAC,QAAD,IAA5B,EAFF,cAGE,KAAC,KAAD,EAAO,IAAI,CAAC,aAAZ,CAA0B,OAAO,cAAE,KAAC,YAAD,IAAnC,EAHF,CAG0D,GAH1D,GAlBJ,GADF,EAFF,GADF,CAgCD,CAED,cAAeN,IAAf"},"metadata":{},"sourceType":"module"}