{"ast":null,"code":"import _defineProperty from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Button,FormLabel,TextField,Typography}from\"@mui/material\";import{Box}from\"@mui/system\";import React,{Fragment,useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{getMovieDetails,newBooking}from\"../../api-helpers/api-helpers\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Booking=function Booking(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState({seatNumber:\"\",date:\"\"}),_useState4=_slicedToArray(_useState3,2),inputs=_useState4[0],setInputs=_useState4[1];var id=useParams().id;console.log(id);useEffect(function(){getMovieDetails(id).then(function(res){return setMovie(res.movie);}).catch(function(err){return console.log(err);});},[id]);var handleChange=function handleChange(e){setInputs(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();console.log(inputs);newBooking(_objectSpread(_objectSpread({},inputs),{},{movie:movie._id})).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(\"div\",{children:movie&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Typography,{padding:3,fontFamily:\"fantasy\",variant:\"h4\",textAlign:\"center\",children:[\"Book TIckets Of Movie: \",movie.title]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"center\",children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"column\",flexDirection:\"column\",paddingTop:3,width:\"50%\",marginRight:\"auto\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"80%\",height:\"300px\",src:movie.posterUrl,alt:movie.title}),/*#__PURE__*/_jsxs(Box,{width:\"80%\",marginTop:3,padding:2,children:[/*#__PURE__*/_jsx(Typography,{paddingTop:2,children:movie.description}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",marginTop:1,children:[\"Starrer:\",movie.actors.map(function(actor){return\" \"+actor+\" \";})]}),/*#__PURE__*/_jsxs(Typography,{fontWeight:\"bold\",marginTop:1,children:[\"Release Date: \",new Date(movie.releaseDate).toDateString()]})]})]}),/*#__PURE__*/_jsx(Box,{width:\"50%\",paddingTop:3,children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(Box,{padding:5,margin:\"auto\",display:\"flex\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(FormLabel,{children:\"Seat Number\"}),/*#__PURE__*/_jsx(TextField,{name:\"seatNumber\",value:inputs.seatNumber,onChange:handleChange,type:\"number\",margin:\"normal\",variant:\"standard\"}),/*#__PURE__*/_jsx(FormLabel,{children:\"Booking Date\"}),/*#__PURE__*/_jsx(TextField,{name:\"date\",type:\"date\",margin:\"normal\",variant:\"standard\",value:inputs.date,onChange:handleChange}),/*#__PURE__*/_jsx(Button,{type:\"submit\",sx:{mt:3},children:\"Book Now\"})]})})})]})]})});};export default Booking;","map":{"version":3,"names":["Button","FormLabel","TextField","Typography","Box","React","Fragment","useEffect","useState","useParams","getMovieDetails","newBooking","Booking","movie","setMovie","seatNumber","date","inputs","setInputs","id","console","log","then","res","catch","err","handleChange","e","prevState","target","name","value","handleSubmit","preventDefault","_id","title","posterUrl","description","actors","map","actor","Date","releaseDate","toDateString","mt"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/components/Bookings/Booking.js"],"sourcesContent":["import { Button, FormLabel, TextField, Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { getMovieDetails, newBooking } from \"../../api-helpers/api-helpers\";\n\nconst Booking = () => {\n  const [movie, setMovie] = useState();\n  const [inputs, setInputs] = useState({ seatNumber: \"\", date: \"\" });\n  const id = useParams().id;\n  console.log(id);\n\n  useEffect(() => {\n    getMovieDetails(id)\n      .then((res) => setMovie(res.movie))\n      .catch((err) => console.log(err));\n  }, [id]);\n  const handleChange = (e) => {\n    setInputs((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(inputs);\n    newBooking({ ...inputs, movie: movie._id })\n      .then((res) => console.log(res))\n      .catch((err) => console.log(err));\n  };\n  return (\n    <div>\n      {movie && (\n        <Fragment>\n          <Typography\n            padding={3}\n            fontFamily=\"fantasy\"\n            variant=\"h4\"\n            textAlign={\"center\"}\n          >\n            Book TIckets Of Movie: {movie.title}\n          </Typography>\n          <Box display={\"flex\"} justifyContent={\"center\"}>\n            <Box\n              display={\"flex\"}\n              justifyContent={\"column\"}\n              flexDirection=\"column\"\n              paddingTop={3}\n              width=\"50%\"\n              marginRight={\"auto\"}\n            >\n              <img\n                width=\"80%\"\n                height={\"300px\"}\n                src={movie.posterUrl}\n                alt={movie.title}\n              />\n              <Box width={\"80%\"} marginTop={3} padding={2}>\n                <Typography paddingTop={2}>{movie.description}</Typography>\n                <Typography fontWeight={\"bold\"} marginTop={1}>\n                  Starrer:\n                  {movie.actors.map((actor) => \" \" + actor + \" \")}\n                </Typography>\n                <Typography fontWeight={\"bold\"} marginTop={1}>\n                  Release Date: {new Date(movie.releaseDate).toDateString()}\n                </Typography>\n              </Box>\n            </Box>\n            <Box width={\"50%\"} paddingTop={3}>\n              <form onSubmit={handleSubmit}>\n                <Box\n                  padding={5}\n                  margin={\"auto\"}\n                  display=\"flex\"\n                  flexDirection={\"column\"}\n                >\n                  <FormLabel>Seat Number</FormLabel>\n                  <TextField\n                    name=\"seatNumber\"\n                    value={inputs.seatNumber}\n                    onChange={handleChange}\n                    type={\"number\"}\n                    margin=\"normal\"\n                    variant=\"standard\"\n                  />\n                  <FormLabel>Booking Date</FormLabel>\n                  <TextField\n                    name=\"date\"\n                    type={\"date\"}\n                    margin=\"normal\"\n                    variant=\"standard\"\n                    value={inputs.date}\n                    onChange={handleChange}\n                  />\n                  <Button type=\"submit\" sx={{ mt: 3 }}>\n                    Book Now\n                  </Button>\n                </Box>\n              </form>\n            </Box>\n          </Box>\n        </Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default Booking;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}