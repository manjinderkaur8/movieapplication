{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jasvinder Kaur\\\\OneDrive\\\\Desktop\\\\final\\\\movie-booking-project\\\\movie-booking-project-frontend\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { AppBar, Autocomplete, IconButton, Tab, Tabs, TextField, Toolbar } from \"@mui/material\";\nimport MovieIcon from \"@mui/icons-material/Movie\";\nimport { Box } from \"@mui/system\";\nimport { getAllMovies } from \"../api-helpers/api-helpers\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { adminActions, userActions } from \"../store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Header = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isAdminLoggedIn = useSelector(state => state.admin.isLoggedIn);\n  const isUserLoggedIn = useSelector(state => state.user.isLoggedIn);\n  const [value, setValue] = useState();\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    getAllMovies().then(data => setMovies(data.movies)).catch(err => console.log(err));\n  }, []);\n\n  const logout = isAdmin => {\n    dispatch(isAdmin ? adminActions.logout() : userActions.logout());\n  };\n\n  const handleChange = (e, val) => {\n    const movie = movies.find(m => m.title === val);\n    console.log(movie);\n\n    if (isUserLoggedIn) {\n      navigate(`/booking/${movie._id}`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(AppBar, {\n    position: \"sticky\",\n    sx: {\n      bgcolor: \"#2b2d42\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        width: \"20%\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          LinkComponent: Link,\n          to: \"/\",\n          children: /*#__PURE__*/_jsxDEV(MovieIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        width: \"30%\",\n        margin: \"auto\",\n        children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n          onChange: handleChange,\n          freeSolo: true,\n          options: movies && movies.map(option => option.title),\n          renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n            sx: {\n              input: {\n                color: \"white\"\n              }\n            },\n            variant: \"standard\",\n            ...params,\n            placeholder: \"Search Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        display: \"flex\",\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          textColor: \"inherit\",\n          indicatorColor: \"secondary\",\n          value: value,\n          onChange: (e, val) => setValue(val),\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            LinkComponent: Link,\n            to: \"/movies\",\n            label: \"Movies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), !isAdminLoggedIn && !isUserLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Admin\",\n              LinkComponent: Link,\n              to: \"/admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Auth\",\n              LinkComponent: Link,\n              to: \"/auth\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), isUserLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Profile\",\n              LinkComponent: Link,\n              to: \"/user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              onClick: () => logout(false),\n              label: \"Logout\",\n              LinkComponent: Link,\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true), isAdminLoggedIn && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Add Movie\",\n              LinkComponent: Link,\n              to: \"/add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              label: \"Profile\",\n              LinkComponent: Link,\n              to: \"/user-admin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Tab, {\n              onClick: () => logout(true),\n              label: \"Logout\",\n              LinkComponent: Link,\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Header, \"09UAGLzCsWLdJ5YD7JJDYVZGDJY=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector];\n});\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","AppBar","Autocomplete","IconButton","Tab","Tabs","TextField","Toolbar","MovieIcon","Box","getAllMovies","Link","useNavigate","useDispatch","useSelector","adminActions","userActions","Header","navigate","dispatch","isAdminLoggedIn","state","admin","isLoggedIn","isUserLoggedIn","user","value","setValue","movies","setMovies","then","data","catch","err","console","log","logout","isAdmin","handleChange","e","val","movie","find","m","title","_id","bgcolor","map","option","params","input","color"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Autocomplete,\n  IconButton,\n  Tab,\n  Tabs,\n  TextField,\n  Toolbar,\n} from \"@mui/material\";\nimport MovieIcon from \"@mui/icons-material/Movie\";\nimport { Box } from \"@mui/system\";\nimport { getAllMovies } from \"../api-helpers/api-helpers\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { adminActions, userActions } from \"../store\";\nconst Header = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isAdminLoggedIn = useSelector((state) => state.admin.isLoggedIn);\n  const isUserLoggedIn = useSelector((state) => state.user.isLoggedIn);\n  const [value, setValue] = useState();\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    getAllMovies()\n      .then((data) => setMovies(data.movies))\n      .catch((err) => console.log(err));\n  }, []);\n  const logout = (isAdmin) => {\n    dispatch(isAdmin ? adminActions.logout() : userActions.logout());\n  };\n  const handleChange = (e, val) => {\n    const movie = movies.find((m) => m.title === val);\n    console.log(movie);\n    if (isUserLoggedIn) {\n      navigate(`/booking/${movie._id}`);\n    }\n  };\n  return (\n    <AppBar position=\"sticky\" sx={{ bgcolor: \"#2b2d42\" }}>\n      <Toolbar>\n        <Box width={\"20%\"}>\n          <IconButton LinkComponent={Link} to=\"/\">\n            <MovieIcon />\n          </IconButton>\n        </Box>\n        <Box width={\"30%\"} margin=\"auto\">\n          <Autocomplete\n            onChange={handleChange}\n            freeSolo\n            options={movies && movies.map((option) => option.title)}\n            renderInput={(params) => (\n              <TextField\n                sx={{ input: { color: \"white\" } }}\n                variant=\"standard\"\n                {...params}\n                placeholder=\"Search Movies\"\n              />\n            )}\n          />\n        </Box>\n        <Box display={\"flex\"}>\n          <Tabs\n            textColor=\"inherit\"\n            indicatorColor=\"secondary\"\n            value={value}\n            onChange={(e, val) => setValue(val)}\n          >\n            <Tab LinkComponent={Link} to=\"/movies\" label=\"Movies\" />\n            {!isAdminLoggedIn && !isUserLoggedIn && (\n              <>\n                <Tab label=\"Admin\" LinkComponent={Link} to=\"/admin\" />\n                <Tab label=\"Auth\" LinkComponent={Link} to=\"/auth\" />\n              </>\n            )}\n            {isUserLoggedIn && (\n              <>\n                <Tab label=\"Profile\" LinkComponent={Link} to=\"/user\" />\n                <Tab\n                  onClick={() => logout(false)}\n                  label=\"Logout\"\n                  LinkComponent={Link}\n                  to=\"/\"\n                />\n              </>\n            )}\n            {isAdminLoggedIn && (\n              <>\n                <Tab label=\"Add Movie\" LinkComponent={Link} to=\"/add\" />\n                <Tab label=\"Profile\" LinkComponent={Link} to=\"/user-admin\" />\n                <Tab\n                  onClick={() => logout(true)}\n                  label=\"Logout\"\n                  LinkComponent={Link}\n                  to=\"/\"\n                />\n              </>\n            )}\n          </Tabs>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}