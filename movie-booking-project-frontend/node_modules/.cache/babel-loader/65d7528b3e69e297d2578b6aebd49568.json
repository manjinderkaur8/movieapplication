{"ast":null,"code":"import _slicedToArray from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box}from\"@mui/system\";import React,{Fragment,useEffect,useState}from\"react\";import{deleteBooking,getUserBooking,getUserDetails}from\"../api-helpers/api-helpers\";import AccountCircleIcon from\"@mui/icons-material/AccountCircle\";import{IconButton,List,ListItem,ListItemText,Typography}from\"@mui/material\";import DeleteForeverIcon from\"@mui/icons-material/DeleteForever\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserProfile=function UserProfile(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),bookings=_useState2[0],setBookings=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];useEffect(function(){getUserBooking().then(function(res){return setBookings(res.bookings);}).catch(function(err){return console.log(err);});getUserDetails().then(function(res){return setUser(res.user);}).catch(function(err){return console.log(err);});},[]);var handleDelete=function handleDelete(id){deleteBooking(id).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(Box,{width:\"100%\",display:\"flex\",children:/*#__PURE__*/_jsxs(Fragment,{children:[\" \",user&&/*#__PURE__*/_jsxs(Box,{flexDirection:\"column\",justifyContent:\"center\",alignItems:\"center\",width:\"30%\",padding:3,children:[/*#__PURE__*/_jsx(AccountCircleIcon,{sx:{fontSize:\"10rem\",textAlign:\"center\",ml:3}}),/*#__PURE__*/_jsxs(Typography,{padding:1,width:\"auto\",textAlign:\"center\",border:\"1px solid #ccc\",borderRadius:6,children:[\"Name: \",user.name]}),/*#__PURE__*/_jsxs(Typography,{mt:1,padding:1,width:\"auto\",textAlign:\"center\",border:\"1px solid #ccc\",borderRadius:6,children:[\"Email: \",user.email]})]}),bookings&&/*#__PURE__*/_jsxs(Box,{width:\"70%\",display:\"flex\",flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",fontFamily:\"verdana\",textAlign:\"center\",padding:2,children:\"Bookings\"}),/*#__PURE__*/_jsx(Box,{margin:\"auto\",display:\"flex\",flexDirection:\"column\",width:\"80%\",children:/*#__PURE__*/_jsx(List,{children:bookings.map(function(booking,index){return/*#__PURE__*/_jsxs(ListItem,{sx:{bgcolor:\"#00d386\",color:\"white\",textAlign:\"center\",margin:1},children:[/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Movie: \",booking.movie.title]}),/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Seat: \",booking.seatNumber]}),/*#__PURE__*/_jsxs(ListItemText,{sx:{margin:1,width:\"auto\",textAlign:\"left\"},children:[\"Date: \",new Date(booking.date).toDateString()]}),/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){return handleDelete(booking._id);},color:\"error\",children:/*#__PURE__*/_jsx(DeleteForeverIcon,{})})]});})})})]})]})});};export default UserProfile;","map":{"version":3,"names":["Box","React","Fragment","useEffect","useState","deleteBooking","getUserBooking","getUserDetails","AccountCircleIcon","IconButton","List","ListItem","ListItemText","Typography","DeleteForeverIcon","UserProfile","bookings","setBookings","user","setUser","then","res","catch","err","console","log","handleDelete","id","fontSize","textAlign","ml","name","email","map","booking","index","bgcolor","color","margin","width","movie","title","seatNumber","Date","date","toDateString","_id"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/profile/UserProfile.js"],"sourcesContent":["import { Box } from \"@mui/system\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport {\n  deleteBooking,\n  getUserBooking,\n  getUserDetails,\n} from \"../api-helpers/api-helpers\";\nimport AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\nimport {\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n} from \"@mui/material\";\nimport DeleteForeverIcon from \"@mui/icons-material/DeleteForever\";\nconst UserProfile = () => {\n  const [bookings, setBookings] = useState();\n  const [user, setUser] = useState();\n  useEffect(() => {\n    getUserBooking()\n      .then((res) => setBookings(res.bookings))\n      .catch((err) => console.log(err));\n\n    getUserDetails()\n      .then((res) => setUser(res.user))\n      .catch((err) => console.log(err));\n  }, []);\n  const handleDelete = (id) => {\n    deleteBooking(id)\n      .then((res) => console.log(res))\n      .catch((err) => console.log(err));\n  };\n  return (\n    <Box width={\"100%\"} display=\"flex\">\n      <Fragment>\n        {\" \"}\n        {user && (\n          <Box\n            flexDirection={\"column\"}\n            justifyContent=\"center\"\n            alignItems={\"center\"}\n            width={\"30%\"}\n            padding={3}\n          >\n            <AccountCircleIcon\n              sx={{ fontSize: \"10rem\", textAlign: \"center\", ml: 3 }}\n            />\n            <Typography\n              padding={1}\n              width={\"auto\"}\n              textAlign={\"center\"}\n              border={\"1px solid #ccc\"}\n              borderRadius={6}\n            >\n              Name: {user.name}\n            </Typography>\n            <Typography\n              mt={1}\n              padding={1}\n              width={\"auto\"}\n              textAlign={\"center\"}\n              border={\"1px solid #ccc\"}\n              borderRadius={6}\n            >\n              Email: {user.email}\n            </Typography>\n          </Box>\n        )}\n        {bookings && (\n          <Box width={\"70%\"} display=\"flex\" flexDirection={\"column\"}>\n            <Typography\n              variant=\"h3\"\n              fontFamily={\"verdana\"}\n              textAlign=\"center\"\n              padding={2}\n            >\n              Bookings\n            </Typography>\n            <Box\n              margin={\"auto\"}\n              display=\"flex\"\n              flexDirection={\"column\"}\n              width=\"80%\"\n            >\n              <List>\n                {bookings.map((booking, index) => (\n                  <ListItem\n                    sx={{\n                      bgcolor: \"#00d386\",\n                      color: \"white\",\n                      textAlign: \"center\",\n                      margin: 1,\n                    }}\n                  >\n                    <ListItemText\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\n                    >\n                      Movie: {booking.movie.title}\n                    </ListItemText>\n                    <ListItemText\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\n                    >\n                      Seat: {booking.seatNumber}\n                    </ListItemText>\n                    <ListItemText\n                      sx={{ margin: 1, width: \"auto\", textAlign: \"left\" }}\n                    >\n                      Date: {new Date(booking.date).toDateString()}\n                    </ListItemText>\n                    <IconButton\n                      onClick={() => handleDelete(booking._id)}\n                      color=\"error\"\n                    >\n                      <DeleteForeverIcon />\n                    </IconButton>\n                  </ListItem>\n                ))}\n              </List>\n            </Box>\n          </Box>\n        )}\n      </Fragment>\n    </Box>\n  );\n};\n\nexport default UserProfile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}