{"ast":null,"code":"import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"No Data\");\n  }\n\n  const data = await res.data;\n  return data;\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n    name: signup ? data.name : \"\",\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const sendAdminAuthRequest = async data => {\n  const res = await axios.post(\"/admin/login\", {\n    email: data.email,\n    password: data.password\n  }).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpectyed Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const getMovieDetails = async id => {\n  const res = await axios.get(`/movie/${id}`).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const newBooking = async data => {\n  const res = await axios.post(\"/booking\", {\n    movie: data.movie,\n    seatNumber: data.seatNumber,\n    date: data.date,\n    user: localStorage.getItem(\"userId\")\n  }).catch(err => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/bookings/${id}`).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const deleteBooking = async id => {\n  const res = await axios.delete(`/booking/${id}`).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unepxected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/${id}`).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const addMovie = async data => {\n  const res = await axios.post(\"/movie\", {\n    title: data.title,\n    description: data.description,\n    releaseDate: data.releaseDate,\n    posterUrl: data.posterUrl,\n    fetaured: data.fetaured,\n    actors: data.actors,\n    admin: localStorage.getItem(\"adminId\")\n  }, {\n    headers: {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    }\n  }).catch(err => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios.get(`/admin/${adminId}`).catch(err => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const deleteMovie = async id => {\n  try {\n    const res = await axios.delete(`/movie/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n\n    if (res.status !== 200) {\n      throw new Error(\"Unexpected Error\");\n    }\n\n    return res.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n\n    console.error(error);\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Unexpected Error Occurred\");\n  }\n};","map":{"version":3,"names":["axios","getAllMovies","res","get","catch","err","console","log","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","fetaured","actors","admin","headers","Authorization","getAdminById","adminId","deleteMovie","Error","error","response","message"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"No Data\");\n  }\n\n  const data = await res.data;\n  return data;\n};\n\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios\n    .post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password,\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const sendAdminAuthRequest = async (data) => {\n  const res = await axios\n    .post(\"/admin/login\", {\n      email: data.email,\n      password: data.password,\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpectyed Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getMovieDetails = async (id) => {\n  const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const newBooking = async (data) => {\n  const res = await axios\n    .post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\"),\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios\n    .get(`/user/bookings/${id}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const deleteBooking = async (id) => {\n  const res = await axios\n    .delete(`/booking/${id}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unepxected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/${id}`).catch((err) => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const addMovie = async (data) => {\n  const res = await axios\n    .post(\n      \"/movie\",\n      {\n        title: data.title,\n        description: data.description,\n        releaseDate: data.releaseDate,\n        posterUrl: data.posterUrl,\n        fetaured: data.fetaured,\n        actors: data.actors,\n        admin: localStorage.getItem(\"adminId\"),\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }\n    )\n    .catch((err) => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios\n    .get(`/admin/${adminId}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\nexport const deleteMovie = async (id) => {\n  try {\n    const res = await axios.delete(`/movie/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    });\n    if (res.status !== 200) {\n      throw new Error(\"Unexpected Error\");\n    }\n    return res.data;\n  } catch (error) {\n    console.error(error);\n    throw new Error(error.response?.data?.message || \"Unexpected Error Occurred\");\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}