{"ast":null,"code":"import axios from \"axios\";\n\nconst handleResponse = response => {\n  if (response.status === 200 || response.status === 201) {\n    return response.data;\n  }\n\n  throw new Error(response.statusText);\n};\n\nconst handleError = error => {\n  var _error$response, _error$response$data;\n\n  console.error(error);\n  throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Unexpected Error Occurred\");\n};\n\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const sendAdminAuthRequest = async data => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const getMovieDetails = async id => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const newBooking = async data => {\n  try {\n    const res = await axios.post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\")\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/bookings/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const deleteBooking = async id => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const addMovie = async data => {\n  try {\n    const res = await axios.post(\"/movie\", {\n      title: data.title,\n      description: data.description,\n      releaseDate: data.releaseDate,\n      posterUrl: data.posterUrl,\n      featured: data.featured,\n      actors: data.actors,\n      admin: localStorage.getItem(\"adminId\")\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\nexport const getAdminById = async () => {\n  try {\n    const adminId = localStorage.getItem(\"adminId\");\n    const res = await axios.get(`/admin/${adminId}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};","map":{"version":3,"names":["axios","handleResponse","response","status","data","Error","statusText","handleError","error","console","message","getAllMovies","res","get","sendUserAuthRequest","signup","post","name","email","password","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","featured","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\n\nconst handleResponse = (response) => {\n  if (response.status === 200 || response.status === 201) {\n    return response.data;\n  }\n  throw new Error(response.statusText);\n};\n\nconst handleError = (error) => {\n  console.error(error);\n  throw new Error(error.response?.data?.message || \"Unexpected Error Occurred\");\n};\n\nexport const getAllMovies = async () => {\n  try {\n    const res = await axios.get(\"/movie\");\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const sendUserAuthRequest = async (data, signup) => {\n  try {\n    const res = await axios.post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password,\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const sendAdminAuthRequest = async (data) => {\n  try {\n    const res = await axios.post(\"/admin/login\", {\n      email: data.email,\n      password: data.password,\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const getMovieDetails = async (id) => {\n  try {\n    const res = await axios.get(`/movie/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const newBooking = async (data) => {\n  try {\n    const res = await axios.post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\"),\n    });\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const getUserBooking = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/bookings/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const deleteBooking = async (id) => {\n  try {\n    const res = await axios.delete(`/booking/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const getUserDetails = async () => {\n  try {\n    const id = localStorage.getItem(\"userId\");\n    const res = await axios.get(`/user/${id}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const addMovie = async (data) => {\n  try {\n    const res = await axios.post(\n      \"/movie\",\n      {\n        title: data.title,\n        description: data.description,\n        releaseDate: data.releaseDate,\n        posterUrl: data.posterUrl,\n        featured: data.featured,\n        actors: data.actors,\n        admin: localStorage.getItem(\"adminId\"),\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }\n    );\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nexport const getAdminById = async () => {\n  try {\n    const adminId = localStorage.getItem(\"adminId\");\n    const res = await axios.get(`/admin/${adminId}`);\n    return handleResponse(res);\n  } catch (error) {\n    handleError(error);\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}