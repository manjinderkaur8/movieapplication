{"ast":null,"code":"import _objectSpread from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{AppBar,Autocomplete,IconButton,Tab,Tabs,TextField,Toolbar}from\"@mui/material\";import MovieIcon from\"@mui/icons-material/Movie\";import{Box}from\"@mui/system\";import{getAllMovies}from\"../api-helpers/api-helpers\";import{Link,useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{adminActions,userActions}from\"../store\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Header=function Header(){var navigate=useNavigate();var dispatch=useDispatch();var isAdminLoggedIn=useSelector(function(state){return state.admin.isLoggedIn;});var isUserLoggedIn=useSelector(function(state){return state.user.isLoggedIn;});var _useState=useState(),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),movies=_useState4[0],setMovies=_useState4[1];useEffect(function(){getAllMovies().then(function(data){return setMovies(data.movies);}).catch(function(err){return console.log(err);});},[]);var logout=function logout(isAdmin){dispatch(isAdmin?adminActions.logout():userActions.logout());};var handleChange=function handleChange(e,val){var movie=movies.find(function(m){return m.title===val;});console.log(movie);if(isUserLoggedIn){navigate(\"/booking/\".concat(movie._id));}};return/*#__PURE__*/_jsx(AppBar,{position:\"sticky\",sx:{bgcolor:\"#2b2d42\"},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Box,{width:\"20%\",children:/*#__PURE__*/_jsx(IconButton,{LinkComponent:Link,to:\"/\",children:/*#__PURE__*/_jsx(MovieIcon,{})})}),/*#__PURE__*/_jsx(Box,{width:\"30%\",margin:\"auto\",children:/*#__PURE__*/_jsx(Autocomplete,{onChange:handleChange,freeSolo:true,options:movies&&movies.map(function(option){return option.title;}),renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({sx:{input:{color:\"white\"}},variant:\"standard\"},params),{},{placeholder:\"Search Acroos Multiple Movies\"}));}})}),/*#__PURE__*/_jsx(Box,{display:\"flex\",children:/*#__PURE__*/_jsxs(Tabs,{textColor:\"inherit\",indicatorColor:\"secondary\",value:value,onChange:function onChange(e,val){return setValue(val);},children:[/*#__PURE__*/_jsx(Tab,{LinkComponent:Link,to:\"/movies\",label:\"Movies\"}),!isAdminLoggedIn&&!isUserLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tab,{label:\"Admin\",LinkComponent:Link,to:\"/admin\"}),/*#__PURE__*/_jsx(Tab,{label:\"Auth\",LinkComponent:Link,to:\"/auth\"})]}),isUserLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tab,{label:\"Profile\",LinkComponent:Link,to:\"/user\"}),/*#__PURE__*/_jsx(Tab,{onClick:function onClick(){return logout(false);},label:\"Logout\",LinkComponent:Link,to:\"/\"})]}),isAdminLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Tab,{label:\"Add Movie\",LinkComponent:Link,to:\"/add\"}),/*#__PURE__*/_jsx(Tab,{label:\"Profile\",LinkComponent:Link,to:\"/user-admin\"}),/*#__PURE__*/_jsx(Tab,{onClick:function onClick(){return logout(true);},label:\"Logout\",LinkComponent:Link,to:\"/\"})]})]})})]})});};export default Header;","map":{"version":3,"names":["React","useEffect","useState","AppBar","Autocomplete","IconButton","Tab","Tabs","TextField","Toolbar","MovieIcon","Box","getAllMovies","Link","useNavigate","useDispatch","useSelector","adminActions","userActions","Header","navigate","dispatch","isAdminLoggedIn","state","admin","isLoggedIn","isUserLoggedIn","user","value","setValue","movies","setMovies","then","data","catch","err","console","log","logout","isAdmin","handleChange","e","val","movie","find","m","title","_id","bgcolor","map","option","params","input","color"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  AppBar,\n  Autocomplete,\n  IconButton,\n  Tab,\n  Tabs,\n  TextField,\n  Toolbar,\n} from \"@mui/material\";\nimport MovieIcon from \"@mui/icons-material/Movie\";\nimport { Box } from \"@mui/system\";\nimport { getAllMovies } from \"../api-helpers/api-helpers\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { adminActions, userActions } from \"../store\";\nconst Header = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isAdminLoggedIn = useSelector((state) => state.admin.isLoggedIn);\n  const isUserLoggedIn = useSelector((state) => state.user.isLoggedIn);\n  const [value, setValue] = useState();\n  const [movies, setMovies] = useState([]);\n  useEffect(() => {\n    getAllMovies()\n      .then((data) => setMovies(data.movies))\n      .catch((err) => console.log(err));\n  }, []);\n  const logout = (isAdmin) => {\n    dispatch(isAdmin ? adminActions.logout() : userActions.logout());\n  };\n  const handleChange = (e, val) => {\n    const movie = movies.find((m) => m.title === val);\n    console.log(movie);\n    if (isUserLoggedIn) {\n      navigate(`/booking/${movie._id}`);\n    }\n  };\n  return (\n    <AppBar position=\"sticky\" sx={{ bgcolor: \"#2b2d42\" }}>\n      <Toolbar>\n        <Box width={\"20%\"}>\n          <IconButton LinkComponent={Link} to=\"/\">\n            <MovieIcon />\n          </IconButton>\n        </Box>\n        <Box width={\"30%\"} margin=\"auto\">\n          <Autocomplete\n            onChange={handleChange}\n            freeSolo\n            options={movies && movies.map((option) => option.title)}\n            renderInput={(params) => (\n              <TextField\n                sx={{ input: { color: \"white\" } }}\n                variant=\"standard\"\n                {...params}\n                placeholder=\"Search Acroos Multiple Movies\"\n              />\n            )}\n          />\n        </Box>\n        <Box display={\"flex\"}>\n          <Tabs\n            textColor=\"inherit\"\n            indicatorColor=\"secondary\"\n            value={value}\n            onChange={(e, val) => setValue(val)}\n          >\n            <Tab LinkComponent={Link} to=\"/movies\" label=\"Movies\" />\n            {!isAdminLoggedIn && !isUserLoggedIn && (\n              <>\n                <Tab label=\"Admin\" LinkComponent={Link} to=\"/admin\" />\n                <Tab label=\"Auth\" LinkComponent={Link} to=\"/auth\" />\n              </>\n            )}\n            {isUserLoggedIn && (\n              <>\n                <Tab label=\"Profile\" LinkComponent={Link} to=\"/user\" />\n                <Tab\n                  onClick={() => logout(false)}\n                  label=\"Logout\"\n                  LinkComponent={Link}\n                  to=\"/\"\n                />\n              </>\n            )}\n            {isAdminLoggedIn && (\n              <>\n                <Tab label=\"Add Movie\" LinkComponent={Link} to=\"/add\" />\n                <Tab label=\"Profile\" LinkComponent={Link} to=\"/user-admin\" />\n                <Tab\n                  onClick={() => logout(true)}\n                  label=\"Logout\"\n                  LinkComponent={Link}\n                  to=\"/\"\n                />\n              </>\n            )}\n          </Tabs>\n        </Box>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}