{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";export var getAllMovies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/movie\").catch(function(err){return console.log(err);});case 2:res=_context.sent;if(!(res.status!==200)){_context.next=5;break;}return _context.abrupt(\"return\",console.log(\"No Data\"));case 5:_context.next=7;return res.data;case 7:data=_context.sent;return _context.abrupt(\"return\",data);case 9:case\"end\":return _context.stop();}}},_callee);}));return function getAllMovies(){return _ref.apply(this,arguments);};}();export var sendUserAuthRequest=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data,signup){var res,resData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"/user/\".concat(signup?\"signup\":\"login\"),{name:signup?data.name:\"\",email:data.email,password:data.password}).catch(function(err){return console.log(err);});case 2:res=_context2.sent;if(res.status!==200&&res.status!==201){console.log(\"Unexpected Error Occurred\");}_context2.next=6;return res.data;case 6:resData=_context2.sent;return _context2.abrupt(\"return\",resData);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function sendUserAuthRequest(_x,_x2){return _ref2.apply(this,arguments);};}();export var sendAdminAuthRequest=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(data){var res,resData;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(\"/admin/login\",{email:data.email,password:data.password}).catch(function(err){return console.log(err);});case 2:res=_context3.sent;if(!(res.status!==200)){_context3.next=5;break;}return _context3.abrupt(\"return\",console.log(\"Unexpectyed Error\"));case 5:_context3.next=7;return res.data;case 7:resData=_context3.sent;return _context3.abrupt(\"return\",resData);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function sendAdminAuthRequest(_x3){return _ref3.apply(this,arguments);};}();export var getMovieDetails=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var res,resData;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(\"/movie/\".concat(id)).catch(function(err){return console.log(err);});case 2:res=_context4.sent;if(!(res.status!==200)){_context4.next=5;break;}return _context4.abrupt(\"return\",console.log(\"Unexpected Error\"));case 5:_context4.next=7;return res.data;case 7:resData=_context4.sent;return _context4.abrupt(\"return\",resData);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function getMovieDetails(_x4){return _ref4.apply(this,arguments);};}();export var newBooking=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(data){var res,resData;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.post(\"/booking\",{movie:data.movie,seatNumber:data.seatNumber,date:data.date,user:localStorage.getItem(\"userId\")}).catch(function(err){return console.log(err);});case 2:res=_context5.sent;if(!(res.status!==201)){_context5.next=5;break;}return _context5.abrupt(\"return\",console.log(\"Unexpected Error\"));case 5:_context5.next=7;return res.data;case 7:resData=_context5.sent;return _context5.abrupt(\"return\",resData);case 9:case\"end\":return _context5.stop();}}},_callee5);}));return function newBooking(_x5){return _ref5.apply(this,arguments);};}();export var getUserBooking=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var id,res,resData;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:id=localStorage.getItem(\"userId\");_context6.next=3;return axios.get(\"/user/bookings/\".concat(id)).catch(function(err){return console.log(err);});case 3:res=_context6.sent;if(!(res.status!==200)){_context6.next=6;break;}return _context6.abrupt(\"return\",console.log(\"Unexpected Error\"));case 6:_context6.next=8;return res.data;case 8:resData=_context6.sent;return _context6.abrupt(\"return\",resData);case 10:case\"end\":return _context6.stop();}}},_callee6);}));return function getUserBooking(){return _ref6.apply(this,arguments);};}();export var deleteBooking=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(id){var res,resData;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.delete(\"/booking/\".concat(id)).catch(function(err){return console.log(err);});case 2:res=_context7.sent;if(!(res.status!==200)){_context7.next=5;break;}return _context7.abrupt(\"return\",console.log(\"Unepxected Error\"));case 5:_context7.next=7;return res.data;case 7:resData=_context7.sent;return _context7.abrupt(\"return\",resData);case 9:case\"end\":return _context7.stop();}}},_callee7);}));return function deleteBooking(_x6){return _ref7.apply(this,arguments);};}();export var getUserDetails=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){var id,res,resData;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:id=localStorage.getItem(\"userId\");_context8.next=3;return axios.get(\"/user/\".concat(id)).catch(function(err){return console.log(err);});case 3:res=_context8.sent;if(!(res.status!==200)){_context8.next=6;break;}return _context8.abrupt(\"return\",console.log(\"Unexpected Error\"));case 6:_context8.next=8;return res.data;case 8:resData=_context8.sent;return _context8.abrupt(\"return\",resData);case 10:case\"end\":return _context8.stop();}}},_callee8);}));return function getUserDetails(){return _ref8.apply(this,arguments);};}();export var addMovie=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(data){var res,resData;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return axios.post(\"/movie\",{title:data.title,description:data.description,releaseDate:data.releaseDate,posterUrl:data.posterUrl,fetaured:data.fetaured,actors:data.actors,admin:localStorage.getItem(\"adminId\")},{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).catch(function(err){return console.log(err);});case 2:res=_context9.sent;if(!(res.status!==201)){_context9.next=5;break;}return _context9.abrupt(\"return\",console.log(\"Unexpected Error Occurred\"));case 5:_context9.next=7;return res.data;case 7:resData=_context9.sent;return _context9.abrupt(\"return\",resData);case 9:case\"end\":return _context9.stop();}}},_callee9);}));return function addMovie(_x7){return _ref9.apply(this,arguments);};}();export var getAdminById=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee10(){var adminId,res,resData;return _regeneratorRuntime().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:adminId=localStorage.getItem(\"adminId\");_context10.next=3;return axios.get(\"/admin/\".concat(adminId)).catch(function(err){return console.log(err);});case 3:res=_context10.sent;if(!(res.status!==200)){_context10.next=6;break;}return _context10.abrupt(\"return\",console.log(\"Unexpected Error Occurred\"));case 6:_context10.next=8;return res.data;case 8:resData=_context10.sent;return _context10.abrupt(\"return\",resData);case 10:case\"end\":return _context10.stop();}}},_callee10);}));return function getAdminById(){return _ref10.apply(this,arguments);};}();","map":{"version":3,"names":["axios","getAllMovies","get","catch","err","console","log","res","status","data","sendUserAuthRequest","signup","post","name","email","password","resData","sendAdminAuthRequest","getMovieDetails","id","newBooking","movie","seatNumber","date","user","localStorage","getItem","getUserBooking","deleteBooking","delete","getUserDetails","addMovie","title","description","releaseDate","posterUrl","fetaured","actors","admin","headers","Authorization","getAdminById","adminId"],"sources":["C:/Users/Jasvinder Kaur/OneDrive/Desktop/final/movie-booking-project/movie-booking-project-frontend/src/api-helpers/api-helpers.js"],"sourcesContent":["import axios from \"axios\";\nexport const getAllMovies = async () => {\n  const res = await axios.get(\"/movie\").catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"No Data\");\n  }\n\n  const data = await res.data;\n  return data;\n};\n\nexport const sendUserAuthRequest = async (data, signup) => {\n  const res = await axios\n    .post(`/user/${signup ? \"signup\" : \"login\"}`, {\n      name: signup ? data.name : \"\",\n      email: data.email,\n      password: data.password,\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200 && res.status !== 201) {\n    console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const sendAdminAuthRequest = async (data) => {\n  const res = await axios\n    .post(\"/admin/login\", {\n      email: data.email,\n      password: data.password,\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpectyed Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getMovieDetails = async (id) => {\n  const res = await axios.get(`/movie/${id}`).catch((err) => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const newBooking = async (data) => {\n  const res = await axios\n    .post(\"/booking\", {\n      movie: data.movie,\n      seatNumber: data.seatNumber,\n      date: data.date,\n      user: localStorage.getItem(\"userId\"),\n    })\n    .catch((err) => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getUserBooking = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios\n    .get(`/user/bookings/${id}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const deleteBooking = async (id) => {\n  const res = await axios\n    .delete(`/booking/${id}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unepxected Error\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getUserDetails = async () => {\n  const id = localStorage.getItem(\"userId\");\n  const res = await axios.get(`/user/${id}`).catch((err) => console.log(err));\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error\");\n  }\n  const resData = await res.data;\n  return resData;\n};\n\nexport const addMovie = async (data) => {\n  const res = await axios\n    .post(\n      \"/movie\",\n      {\n        title: data.title,\n        description: data.description,\n        releaseDate: data.releaseDate,\n        posterUrl: data.posterUrl,\n        fetaured: data.fetaured,\n        actors: data.actors,\n        admin: localStorage.getItem(\"adminId\"),\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n      }\n    )\n    .catch((err) => console.log(err));\n\n  if (res.status !== 201) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n\nexport const getAdminById = async () => {\n  const adminId = localStorage.getItem(\"adminId\");\n  const res = await axios\n    .get(`/admin/${adminId}`)\n    .catch((err) => console.log(err));\n\n  if (res.status !== 200) {\n    return console.log(\"Unexpected Error Occurred\");\n  }\n\n  const resData = await res.data;\n  return resData;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}